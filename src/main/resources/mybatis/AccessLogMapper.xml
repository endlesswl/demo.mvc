<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- namespace必须指向Dao接口 -->
<mapper namespace="com.palm.lingcai.repository.AccessLogDao">

    <resultMap id="resultMap" type="com.palm.lingcai.entity.AccessLog">
        <result property="id" column="id"/>
        <result property="openid" column="openid"/>
        <result property="serverid" column="serverid"/>
        <result property="refurl" column="refurl"/>
        <result property="createtime" column="createtime"/>
        <result property="send" column="send"/>
        <result property="receive" column="receive"/>
        <result property="isFocus" column="isFocus"/>
        <result property="register" column="register"/>
        <result property="click" column="click"/>
    </resultMap>

    <!-- 用于select查询公用抽取的列 -->
    <sql id="columns">
		id,serverid,openid,refurl,createtime,send,receive,isFocus,register,click
	</sql>

    <!-- 获取用户: 输出直接映射到对象 -->
    <select id="get" parameterType="Long" resultType="AccessLog">
        SELECT
        <include refid="columns"/>
        FROM tab_access_log
        WHERE id=#{id}
    </select>
    <!-- 新增 -->
    <insert id="insert" parameterType="AccessLog" useGeneratedKeys="true" keyProperty="id">
		INSERT INTO tab_access_log (
        	openid,
        	serverid,
        	refurl,
        	createtime,
        	send,
        	receive,
        	isFocus,
        	register,
        	click
		) VALUES (
        	#{openid},
        	#{serverid},
        	#{refurl},
        	#{createtime},
        	#{send},
        	#{receive},
        	#{isFocus},
        	#{register},
        	#{click}
		)
	</insert>
</mapper> 
