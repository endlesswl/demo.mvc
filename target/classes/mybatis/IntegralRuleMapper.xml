<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- namespace必须指向Dao接口 -->
<mapper namespace="com.palm.lingcai.repository.IntegralRuleDao">

	
	 <!--充值金额统计 -->
    <select id="statisUserRecharge" resultType="map">
        SELECT sum(money) as totalMoney, count(1) as allCount
        FROM tab_deposit
        <where>
             1=1 AND status = 1 AND method=1 
            <if test="startDate != null and startDate != ''">
                AND date(createtime) >= #{startDate}
            </if>
            <if test="endDate != null and endDate != ''">
                <![CDATA[AND date(createtime) <= #{endDate}]]>
            </if>
        </where>
    </select>
</mapper> 
